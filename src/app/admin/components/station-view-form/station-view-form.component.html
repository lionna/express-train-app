<div>
    <form class="card edit-container" [formGroup]="stationForm">
        <div class="map-container">
            <app-map-view
                [latitude]="latitude"
                [longitude]="longitude"
                [city]="city"
                [connectedTo]="connectedTo.value"
                [draggable]="false"
            >
            </app-map-view>
        </div>
        <div class="form-container">
            <div class="form-group mb-2">
                <label for="city" class="block text-900 text-xl font-medium mb-2">{{
                    'STATION_PAGE.FIELDS.CITY_NAME.NAME' | translate
                }}</label>
                <input
                    [id]="fields.CITY"
                    [formControlName]="fields.CITY"
                    placeholder="{{ 'STATION_PAGE.FIELDS.CITY_NAME.PLACEHOLDER' | translate }}"
                    type="text"
                    class="ng-dirty w-full"
                    styleClass="w-full"
                    pInputText
                />
            </div>

            <div class="form-group mb-2">
                <label for="latitude" class="block text-900 text-xl font-medium mb-2">
                    {{ 'STATION_PAGE.FIELDS.LATITUDE.NAME' | translate }}
                </label>
                <input
                    id="latitude"
                    type="number"
                    formControlName="latitude"
                    class="ng-dirty w-full"
                    styleClass="w-full"
                    pInputText
                />
            </div>

            <div class="form-group mb-2">
                <label for="longitude" class="block text-900 text-xl font-medium mb-2">
                    {{ 'STATION_PAGE.FIELDS.LONGITUDE.NAME' | translate }}</label
                >
                <input
                    id="longitude"
                    type="number"
                    formControlName="longitude"
                    class="ng-dirty w-full"
                    styleClass="w-full"
                    pInputText
                />
            </div>

            <div class="form-group mb-5">
                <div class="text-900 text-xl font-medium mb-2">
                    <label for="connectedTo">
                        {{ 'STATION_PAGE.FIELDS.CONNECTED.NAME' | translate }}
                    </label>
                </div>

                <div formArrayName="connectedTo">
                    @for (control of connectedTo.controls; track $index) {
                        <div [formGroupName]="$index" class="flex align-items-center mb-2 gap-2">
                            <input
                                id="city"
                                type="string"
                                formControlName="city"
                                class="ng-dirty w-full"
                                styleClass="w-full"
                                pInputText
                            />
                        </div>
                    }
                </div>
            </div>

            <div class="flex gap-2">
                <p-button
                    (click)="onCancelEdit()"
                    label="{{ 'BUTTONS.CANCEL' | translate }}"
                    severity="secondary"
                    icon="pi pi-times"
                />
            </div>
        </div>
    </form>
</div>
